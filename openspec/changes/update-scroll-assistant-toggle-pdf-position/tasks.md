## 1. Implementation
- [ ] 1.1 Add scroll-mode assistant visibility state and local storage key
- [ ] 1.2 Add floating assistant toggle in scroll mode UI and wire to visibility state
- [ ] 1.3 Refactor PDF scroll persistence to a shared path used by scroll mode and standard viewer
- [ ] 1.4 Tighten PDF restore timing/verification to eliminate race conditions
- [ ] 1.5 Add/adjust tests for PDF scroll restore across modes and assistant toggle persistence
- [ ] 1.6 Validate manual QA paths (scroll mode toggle, PDF resume in both modes)
